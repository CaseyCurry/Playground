{"version":3,"file":"navihealth-architect-list-widget.js.map","sources":["ng://@navihealth/architect-list-widget/app/bus.ts","ng://@navihealth/architect-list-widget/app/app.component.ts","ng://@navihealth/architect-list-widget/app/app.module.ts","ng://@navihealth/architect-list-widget/widget.ts"],"sourcesContent":["declare const process: any;\ndeclare const window: any;\n\ntype ResponderFunction = (event: IEvent) => Promise<any>;\n\ninterface IListener {\n  eventName: string;\n  responder: ResponderFunction;\n}\n\ninterface IEvent {\n  eventName: string;\n  message?: any;\n}\n\nclass Bus {\n  subscribers: object;\n\n  constructor() {\n    this.subscribers = {};\n  }\n\n  public listen(listener: IListener) {\n    this.writeToConsoleInDev('listen', listener);\n    if (!listener.eventName) {\n      throw new Error('Argument listener.eventName is required.');\n    }\n    if (!listener.responder) {\n      throw new Error('Argument listener.respond is required.');\n    }\n    if (!this.subscribers[listener.eventName]) {\n      this.subscribers[listener.eventName] = [];\n    }\n    this.subscribers[listener.eventName].push(listener);\n  }\n\n  public ignore(listener: IListener) {\n    this.writeToConsoleInDev('ignore', listener);\n    if (!listener || !listener.eventName) {\n      return;\n    }\n    const listeners = this.subscribers[listener.eventName];\n    if (!listeners || listeners.length === 0) {\n      return;\n    }\n    const index = listeners.indexOf(listener);\n    if (index > -1) {\n      this.subscribers[listener.eventName].splice(index, 1);\n    }\n  }\n\n  public notify(event: IEvent) {\n    this.writeToConsoleInDev('notify', event);\n    return new Promise((resolve, reject) => {\n      if (!event.eventName) {\n        reject(new Error('Argument event.eventName is required.'));\n      }\n      const listeners = this.subscribers[event.eventName];\n      if (listeners) {\n        resolve(Promise\n          .all(listeners.map(listener => listener.responder(event))));\n      }\n    });\n  }\n\n  private writeToConsoleInDev(action: string, context: any) {\n    // if (process.env.DEV) {\n      console.log('@navihealth/browser-bus ' + action, context);\n    // }\n  }\n}\n\nconst BusFactory = {\n  create: () => {\n    if (window.nhBrowserBus && window.nhBrowserBus.instance) {\n      return window.nhBrowserBus.instance;\n    } if (window.nhBrowserBus) {\n      const instance = new Bus();\n      window.nhBrowserBus.instance = instance;\n      return instance;\n    } else {\n      const instance = new Bus();\n      window.nhBrowserBus = { instance: instance };\n      return instance;\n    }\n  }\n};\n\nexport { BusFactory };\n","import { Component } from '@angular/core';\nimport { BusFactory } from './bus';\n\n@Component({\n  selector: 'architect-list-widget',\n  template: `<div class='col-xs-12'>\n  <input (keyup)='newArchitectOnKeyUp($event)' placeholder='enter name' />\n  <button (click)='addOnClick()' class='btn btn-primary'>Add Architect</button>\n  <ul>\n    <li *ngFor='let architect of architects' (click)='architectOnClick(architect)'>{{ architect }}</li>\n  </ul>\n</div>`,\n  styles: [`ul{margin-top:10px;padding:0}li{list-style:none}`]\n})\nexport class AppComponent {\n  title: string;\n  architects: string[];\n  newArchitectName: string;\n  bus: any;\n\n  constructor() {\n    this.title = 'architects';\n    this.architects = [\n      'Seshan',\n      'Aneesh',\n      'Nijil'\n    ];\n    this.bus = (BusFactory as any).create();\n  }\n\n  newArchitectOnKeyUp(event) {\n    this.newArchitectName = event.target.value;\n  }\n\n  addOnClick() {\n    if (this.newArchitectName) {\n      this.architects.push(this.newArchitectName);\n      this.bus.notify({\n        eventName: 'architect-added',\n        message: {\n          name: this.newArchitectName\n        }\n      });\n      this.newArchitectName = \"\";\n    }\n  }\n\n  architectOnClick(architect) {\n    this.bus.notify({\n      eventName: 'architect-selected',\n      message: {\n        name: architect\n      }\n    })\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode, NgZone } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nconst id = 'd4181c23-4c1f-4c2a-910a-7d383afb9cd9';\nconst title = 'Architect List (Angular 5)';\nconst width = {\n  xs: 12,\n  sm: 8,\n  md: 6,\n  lg: 5,\n  xl: 4\n};\nconst initialHeight = '250px';\nconst render = async function(container: Element) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const appRoot = document.createElement('architect-list-widget');\n      container.appendChild(appRoot);\n      await platformBrowserDynamic().bootstrapModule(AppModule);\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexport default {\n  id,\n  title,\n  width,\n  initialHeight,\n  render\n}\n"],"names":[],"mappings":"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"}
